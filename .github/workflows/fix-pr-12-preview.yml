name: Fix PR #12 Preview

on:
  workflow_dispatch:

permissions:
  contents: write

jobs:
  fix-pr-12:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout gh-pages
        uses: actions/checkout@v4
        with:
          ref: gh-pages

      - name: Create info page for PR #12
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          
          # Create pr-12 directory if it doesn't exist
          mkdir -p pr-12
          
          # Create the info page
          cat > pr-12/index.html << 'EOF'
          <!DOCTYPE html>
          <html lang="en">
          <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <meta http-equiv="refresh" content="5;url=../">
              <title>PR Preview - Closed</title>
              <style>
                  body {
                      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
                      display: flex;
                      justify-content: center;
                      align-items: center;
                      min-height: 100vh;
                      margin: 0;
                      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                      color: white;
                  }
                  .container {
                      text-align: center;
                      padding: 2rem;
                      max-width: 600px;
                  }
                  h1 {
                      font-size: 3rem;
                      margin: 0 0 1rem 0;
                  }
                  p {
                      font-size: 1.2rem;
                      line-height: 1.6;
                      margin: 1rem 0;
                  }
                  a {
                      color: #fff;
                      text-decoration: underline;
                      font-weight: bold;
                  }
                  .button {
                      display: inline-block;
                      margin-top: 2rem;
                      padding: 1rem 2rem;
                      background: white;
                      color: #667eea;
                      text-decoration: none;
                      border-radius: 8px;
                      font-weight: bold;
                      transition: transform 0.2s;
                  }
                  .button:hover {
                      transform: scale(1.05);
                  }
              </style>
          </head>
          <body>
              <div class="container">
                  <h1>ðŸ”’ PR Preview Closed</h1>
                  <p>This PR preview was for <strong>PR #12</strong>, which has been closed and merged.</p>
                  <p>The preview is no longer available.</p>
                  <p>You will be redirected to the main site in 5 seconds...</p>
                  <a href="../" class="button">Go to Main Site Now</a>
              </div>
          </body>
          </html>
          EOF
          
          git add pr-12/index.html
          git commit -m "Add info page for closed PR #12"
          git push
